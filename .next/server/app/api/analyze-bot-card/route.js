/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze-bot-card/route";
exports.ids = ["app/api/analyze-bot-card/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-bot-card%2Froute&page=%2Fapi%2Fanalyze-bot-card%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-bot-card%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-bot-card%2Froute&page=%2Fapi%2Fanalyze-bot-card%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-bot-card%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_lifanwang_Legal_app_api_analyze_bot_card_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analyze-bot-card/route.ts */ \"(rsc)/./app/api/analyze-bot-card/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze-bot-card/route\",\n        pathname: \"/api/analyze-bot-card\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze-bot-card/route\"\n    },\n    resolvedPagePath: \"/Users/lifanwang/Legal/app/api/analyze-bot-card/route.ts\",\n    nextConfigOutput,\n    userland: _Users_lifanwang_Legal_app_api_analyze_bot_card_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analyze-bot-card/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplLWJvdC1jYXJkJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplLWJvdC1jYXJkJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZS1ib3QtY2FyZCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmxpZmFud2FuZyUyRkxlZ2FsJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmxpZmFud2FuZyUyRkxlZ2FsJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNRO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktbGVnYWwtcmV2aWV3LWFzc2lzdGFudC8/ZTM5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbGlmYW53YW5nL0xlZ2FsL2FwcC9hcGkvYW5hbHl6ZS1ib3QtY2FyZC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5hbHl6ZS1ib3QtY2FyZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FuYWx5emUtYm90LWNhcmRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FuYWx5emUtYm90LWNhcmQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbGlmYW53YW5nL0xlZ2FsL2FwcC9hcGkvYW5hbHl6ZS1ib3QtY2FyZC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl6ZS1ib3QtY2FyZC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-bot-card%2Froute&page=%2Fapi%2Fanalyze-bot-card%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-bot-card%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analyze-bot-card/route.ts":
/*!*******************************************!*\
  !*** ./app/api/analyze-bot-card/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_ai_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/ai-service */ \"(rsc)/./lib/ai-service.ts\");\n\n\nasync function POST(request) {\n    try {\n        const { text } = await request.json();\n        if (!text) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"No text provided\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"Analyzing bot card, text length:\", text.length);\n        const result = await (0,_lib_ai_service__WEBPACK_IMPORTED_MODULE_1__.analyzeBotCard)(text);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: result\n        });\n    } catch (error) {\n        console.error(\"Error analyzing bot card:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Failed to analyze bot card\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FuYWx5emUtYm90LWNhcmQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ047QUFFMUMsZUFBZUUsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUcsTUFBTUQsUUFBUUUsSUFBSTtRQUVuQyxJQUFJLENBQUNELE1BQU07WUFDVCxPQUFPSixxREFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztnQkFBT0MsT0FBTztZQUFtQixHQUM1QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUFDLFFBQVFDLEdBQUcsQ0FBQyxvQ0FBb0NOLEtBQUtPLE1BQU07UUFFM0QsTUFBTUMsU0FBUyxNQUFNWCwrREFBY0EsQ0FBQ0c7UUFFcEMsT0FBT0oscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUTyxNQUFNRDtRQUNSO0lBQ0YsRUFBRSxPQUFPTCxPQUFPO1FBQ2RFLFFBQVFGLEtBQUssQ0FBQyw2QkFBNkJBO1FBRTNDLE9BQU9QLHFEQUFZQSxDQUFDSyxJQUFJLENBQ3RCO1lBQ0VDLFNBQVM7WUFDVEMsT0FBT0EsaUJBQWlCTyxRQUFRUCxNQUFNUSxPQUFPLEdBQUc7UUFDbEQsR0FDQTtZQUFFUCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWxlZ2FsLXJldmlldy1hc3Npc3RhbnQvLi9hcHAvYXBpL2FuYWx5emUtYm90LWNhcmQvcm91dGUudHM/ZWM0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBhbmFseXplQm90Q2FyZCB9IGZyb20gJ0AvbGliL2FpLXNlcnZpY2UnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyB0ZXh0IH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIFxuICAgIGlmICghdGV4dCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIHRleHQgcHJvdmlkZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdBbmFseXppbmcgYm90IGNhcmQsIHRleHQgbGVuZ3RoOicsIHRleHQubGVuZ3RoKVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFuYWx5emVCb3RDYXJkKHRleHQpXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBib3QgY2FyZDonLCBlcnJvcilcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gYW5hbHl6ZSBib3QgY2FyZCdcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImFuYWx5emVCb3RDYXJkIiwiUE9TVCIsInJlcXVlc3QiLCJ0ZXh0IiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJyZXN1bHQiLCJkYXRhIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analyze-bot-card/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai-service.ts":
/*!***************************!*\
  !*** ./lib/ai-service.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeBotCard: () => (/* binding */ analyzeBotCard),\n/* harmony export */   analyzeLegalDocument: () => (/* binding */ analyzeLegalDocument)\n/* harmony export */ });\n/* harmony import */ var _google_genai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/genai */ \"(rsc)/./node_modules/@google/genai/dist/node/index.mjs\");\n\nconst ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n    apiKey: \"AIzaSyDIEvtGeRzQ_4Iop0GmZGbmC8yIzEEp5I8\" || 0\n});\n// 简单的内存缓存\nconst analysisCache = new Map();\nconst botCardCache = new Map();\n// 生成缓存键\nfunction generateCacheKey(text, systemPrompt) {\n    const content = `${text}-${systemPrompt || \"default\"}`;\n    // 简单哈希函数\n    let hash = 0;\n    for(let i = 0; i < content.length; i++){\n        const char = content.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash = hash & hash // 转换为32位整数\n        ;\n    }\n    return hash.toString();\n}\nfunction parseRobustJson(textResponse) {\n    console.log(\"Attempting to parse JSON, length:\", textResponse.length);\n    console.log(\"JSON preview:\", textResponse.substring(0, 500));\n    try {\n        // 基本清理\n        let jsonText = textResponse.trim();\n        // 移除markdown代码块\n        jsonText = jsonText.replace(/^```(?:json)?\\s*/g, \"\");\n        jsonText = jsonText.replace(/```\\s*$/g, \"\");\n        // 修复智能引号\n        jsonText = jsonText.replace(/[\"\"]/g, '\"');\n        jsonText = jsonText.replace(/['']/g, \"'\");\n        // 移除尾随逗号\n        jsonText = jsonText.replace(/,(\\s*[}\\]])/g, \"$1\");\n        const result = JSON.parse(jsonText);\n        console.log(\"Successfully parsed JSON\");\n        return result;\n    } catch (error) {\n        console.log(\"JSON parse error:\", error);\n        // 返回fallback结果\n        return {\n            document_id: `fallback-${Date.now()}`,\n            analysis_summary: \"Document analysis encountered technical issues. Please try again or consult legal counsel.\",\n            comments: [\n                {\n                    comment_id: \"fallback-comment\",\n                    context_before: \"\",\n                    original_text: \"Document requires review\",\n                    context_after: \"\",\n                    severity: \"Recommend to Change\",\n                    comment_title: \"Technical Analysis Issue\",\n                    comment_details: \"The automated analysis could not be completed due to technical issues. Please have this document reviewed manually.\",\n                    recommendation: \"Consult with qualified legal counsel for a thorough review.\",\n                    market_standard: {\n                        is_standard: \"Partially\",\n                        reasoning: \"Unable to complete market analysis.\"\n                    }\n                }\n            ]\n        };\n    }\n}\nfunction parseBotCardJson(textResponse) {\n    console.log(\"Attempting to parse bot card JSON, length:\", textResponse.length);\n    console.log(\"JSON preview:\", textResponse.substring(0, 500));\n    try {\n        // 基本清理\n        let jsonText = textResponse.trim();\n        // 移除markdown代码块\n        jsonText = jsonText.replace(/^```(?:json)?\\s*/g, \"\");\n        jsonText = jsonText.replace(/```\\s*$/g, \"\");\n        // 修复智能引号\n        jsonText = jsonText.replace(/[\"\"]/g, '\"');\n        jsonText = jsonText.replace(/['']/g, \"'\");\n        // 移除尾随逗号\n        jsonText = jsonText.replace(/,(\\s*[}\\]])/g, \"$1\");\n        const result = JSON.parse(jsonText);\n        console.log(\"Successfully parsed bot card JSON\");\n        return result;\n    } catch (error) {\n        console.log(\"Bot card JSON parse error:\", error);\n        // 返回fallback结果\n        return {\n            card_id: `fallback-${Date.now()}`,\n            analysis_summary: {\n                overall_assessment: \"Bot card analysis encountered technical issues. Please try again.\",\n                target_audience_fit: \"Unable to determine target audience due to technical issues.\",\n                discoverability_and_packaging: \"Unable to assess packaging due to technical issues.\",\n                narrative_potential_and_originality: \"Unable to evaluate narrative potential due to technical issues.\",\n                key_strengths_summary: \"Unable to identify strengths due to technical issues.\",\n                key_weaknesses_summary: \"Unable to identify weaknesses due to technical issues.\"\n            },\n            locatable_comments: [\n                {\n                    comment_id: \"fallback-comment\",\n                    source_section: \"General\",\n                    context_before: \"\",\n                    original_text: \"Bot card requires review\",\n                    context_after: \"\",\n                    comment_type: \"Content Issue\",\n                    comment_title: \"Technical Analysis Issue\",\n                    comment_details: \"The automated analysis could not be completed due to technical issues. Please have this bot card reviewed manually.\",\n                    recommendation: \"Review the bot card content manually and ensure all sections are properly formatted.\"\n                }\n            ]\n        };\n    }\n}\nconst DEFAULT_SYSTEM_PROMPT = `You are a senior legal advisor helping a startup founder review legal documents. \n\nAnalyze the document and return ONLY a valid JSON object with this exact structure:\n\n{\n  \"document_id\": \"unique-id\",\n  \"analysis_summary\": \"Brief summary of key issues\",\n  \"comments\": [\n    {\n      \"comment_id\": \"comment-1\", \n      \"context_before\": \"text before\",\n      \"original_text\": \"exact text from document\",\n      \"context_after\": \"text after\",\n      \"severity\": \"Must Change\",\n      \"comment_title\": \"Short title\",\n      \"comment_details\": \"Explanation of the issue\",\n      \"recommendation\": \"What to do about it\",\n      \"market_standard\": {\n        \"is_standard\": \"Yes/No/Partially\",\n        \"reasoning\": \"Brief explanation\"\n      }\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. No markdown formatting, no explanations, no additional text.`;\nconst BOT_CARD_REVIEW_PROMPT = `You are a top-tier AI character content strategy analyst. Analyze the provided bot card content and create a comprehensive analysis report in JSON format.\n\nYour analysis should include:\n\n1. ANALYSIS SUMMARY - A detailed strategic assessment covering:\n   - overall_assessment: Overall quality, core experience, and creation level\n   - target_audience_fit: Target user analysis (RPG players, casual users, etc.) and how well it meets their needs\n   - discoverability_and_packaging: Title, description quality, searchability, and appeal\n   - narrative_potential_and_originality: Long-term playability, creativity, uniqueness vs generic templates\n   - key_strengths_summary: Main strengths and highlights\n   - key_weaknesses_summary: Main areas needing improvement\n\n2. LOCATABLE COMMENTS - Specific, evidence-based feedback on text segments:\n   - comment_type options: \"内容优点\" (content strengths), \"内容问题\" (content issues), \"LLM问题\" (LLM/prompt issues)\n   - Provide detailed analysis and specific recommendations\n\nReturn ONLY this JSON structure:\n{\n  \"card_id\": \"unique_id_for_card\",\n  \"analysis_summary\": {\n    \"overall_assessment\": \"detailed overall assessment\",\n    \"target_audience_fit\": \"detailed target audience analysis\", \n    \"discoverability_and_packaging\": \"detailed packaging analysis\",\n    \"narrative_potential_and_originality\": \"detailed creativity analysis\",\n    \"key_strengths_summary\": \"detailed strengths summary\",\n    \"key_weaknesses_summary\": \"detailed weaknesses summary\"\n  },\n  \"locatable_comments\": [\n    {\n      \"comment_id\": \"comment-1\",\n      \"source_section\": \"Title|Description|Welcome Message|Bot Prompt\",\n      \"context_before\": \"text before highlighted section\",\n      \"original_text\": \"exact text being commented on\",\n      \"context_after\": \"text after highlighted section\", \n      \"comment_type\": \"内容优点|内容问题|LLM问题\",\n      \"comment_title\": \"concise comment title\",\n      \"comment_details\": \"detailed analysis explanation\",\n      \"recommendation\": \"specific actionable improvement\"\n    }\n  ]\n}\n\nCRITICAL: Return ONLY the JSON object. No markdown formatting, no explanations, no additional text.`;\nasync function analyzeLegalDocument(text, systemPrompt, temperature = 0.1, topP = 0.8) {\n    // Check cache first\n    const cacheKey = generateCacheKey(text, systemPrompt);\n    if (analysisCache.has(cacheKey)) {\n        console.log(\"Using cached analysis result\");\n        return analysisCache.get(cacheKey);\n    }\n    try {\n        console.log(\"Making new AI API call...\");\n        // 使用正确的API调用方式\n        const prompt = systemPrompt || DEFAULT_SYSTEM_PROMPT;\n        const response = await ai.models.generateContent({\n            model: \"gemini-2.5-pro\",\n            contents: `${prompt}\\\\n\\\\nDocument to analyze:\\\\n${text}`\n        });\n        const textResponse = response.text;\n        if (!textResponse) {\n            throw new Error(\"No response text received from AI model\");\n        }\n        console.log(\"AI Response length:\", textResponse.length);\n        console.log(\"AI Response preview:\", textResponse.substring(0, 200));\n        const result = parseRobustJson(textResponse);\n        // Cache the result\n        analysisCache.set(cacheKey, result);\n        console.log(\"Cached analysis result\");\n        return result;\n    } catch (error) {\n        console.error(\"Error in analyzeLegalDocument:\", error);\n        throw error;\n    }\n}\nasync function analyzeBotCard(cardContent, temperature = 0.1, topP = 0.8) {\n    // Check cache first\n    const cacheKey = generateCacheKey(cardContent, BOT_CARD_REVIEW_PROMPT);\n    if (botCardCache.has(cacheKey)) {\n        console.log(\"Using cached bot card analysis result\");\n        return botCardCache.get(cacheKey);\n    }\n    try {\n        console.log(\"Making new AI API call for bot card analysis...\");\n        const response = await ai.models.generateContent({\n            model: \"gemini-2.5-pro\",\n            contents: `${BOT_CARD_REVIEW_PROMPT}\\\\n\\\\nBot Card Content to analyze:\\\\n${cardContent}`\n        });\n        const textResponse = response.text;\n        if (!textResponse) {\n            throw new Error(\"No response text received from AI model\");\n        }\n        console.log(\"AI Response length:\", textResponse.length);\n        console.log(\"AI Response preview:\", textResponse.substring(0, 200));\n        const result = parseBotCardJson(textResponse);\n        // Cache the result\n        botCardCache.set(cacheKey, result);\n        console.log(\"Cached bot card analysis result\");\n        return result;\n    } catch (error) {\n        console.error(\"Error in analyzeBotCard:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWktc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFHM0MsTUFBTUMsS0FBSyxJQUFJRCxzREFBV0EsQ0FBQztJQUFFRSxRQUFRQyx5Q0FBNkIsSUFBSTtBQUFHO0FBRXpFLFVBQVU7QUFDVixNQUFNRyxnQkFBZ0IsSUFBSUM7QUFDMUIsTUFBTUMsZUFBZSxJQUFJRDtBQUV6QixRQUFRO0FBQ1IsU0FBU0UsaUJBQWlCQyxJQUFZLEVBQUVDLFlBQXFCO0lBQzNELE1BQU1DLFVBQVUsQ0FBQyxFQUFFRixLQUFLLENBQUMsRUFBRUMsZ0JBQWdCLFVBQVUsQ0FBQztJQUN0RCxTQUFTO0lBQ1QsSUFBSUUsT0FBTztJQUNYLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJRixRQUFRRyxNQUFNLEVBQUVELElBQUs7UUFDdkMsTUFBTUUsT0FBT0osUUFBUUssVUFBVSxDQUFDSDtRQUNoQ0QsT0FBTyxDQUFFQSxRQUFRLEtBQUtBLE9BQVFHO1FBQzlCSCxPQUFPQSxPQUFPQSxLQUFLLFdBQVc7O0lBQ2hDO0lBQ0EsT0FBT0EsS0FBS0ssUUFBUTtBQUN0QjtBQUVBLFNBQVNDLGdCQUFnQkMsWUFBb0I7SUFDM0NDLFFBQVFDLEdBQUcsQ0FBQyxxQ0FBcUNGLGFBQWFMLE1BQU07SUFDcEVNLFFBQVFDLEdBQUcsQ0FBQyxpQkFBaUJGLGFBQWFHLFNBQVMsQ0FBQyxHQUFHO0lBRXZELElBQUk7UUFDRixPQUFPO1FBQ1AsSUFBSUMsV0FBV0osYUFBYUssSUFBSTtRQUVoQyxnQkFBZ0I7UUFDaEJELFdBQVdBLFNBQVNFLE9BQU8sQ0FBQyxxQkFBcUI7UUFDakRGLFdBQVdBLFNBQVNFLE9BQU8sQ0FBQyxZQUFZO1FBRXhDLFNBQVM7UUFDVEYsV0FBV0EsU0FBU0UsT0FBTyxDQUFDLFNBQVM7UUFDckNGLFdBQVdBLFNBQVNFLE9BQU8sQ0FBQyxTQUFTO1FBRXJDLFNBQVM7UUFDVEYsV0FBV0EsU0FBU0UsT0FBTyxDQUFDLGdCQUFnQjtRQUU1QyxNQUFNQyxTQUFTQyxLQUFLQyxLQUFLLENBQUNMO1FBQzFCSCxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPSztJQUNULEVBQUUsT0FBT0csT0FBTztRQUNkVCxRQUFRQyxHQUFHLENBQUMscUJBQXFCUTtRQUVqQyxlQUFlO1FBQ2YsT0FBTztZQUNMQyxhQUFhLENBQUMsU0FBUyxFQUFFQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQztZQUNyQ0Msa0JBQWtCO1lBQ2xCQyxVQUFVO2dCQUFDO29CQUNUQyxZQUFZO29CQUNaQyxnQkFBZ0I7b0JBQ2hCQyxlQUFlO29CQUNmQyxlQUFlO29CQUNmQyxVQUFVO29CQUNWQyxlQUFlO29CQUNmQyxpQkFBaUI7b0JBQ2pCQyxnQkFBZ0I7b0JBQ2hCQyxpQkFBaUI7d0JBQ2ZDLGFBQWE7d0JBQ2JDLFdBQVc7b0JBQ2I7Z0JBQ0Y7YUFBRTtRQUNKO0lBQ0Y7QUFDRjtBQUVBLFNBQVNDLGlCQUFpQjNCLFlBQW9CO0lBQzVDQyxRQUFRQyxHQUFHLENBQUMsOENBQThDRixhQUFhTCxNQUFNO0lBQzdFTSxRQUFRQyxHQUFHLENBQUMsaUJBQWlCRixhQUFhRyxTQUFTLENBQUMsR0FBRztJQUV2RCxJQUFJO1FBQ0YsT0FBTztRQUNQLElBQUlDLFdBQVdKLGFBQWFLLElBQUk7UUFFaEMsZ0JBQWdCO1FBQ2hCRCxXQUFXQSxTQUFTRSxPQUFPLENBQUMscUJBQXFCO1FBQ2pERixXQUFXQSxTQUFTRSxPQUFPLENBQUMsWUFBWTtRQUV4QyxTQUFTO1FBQ1RGLFdBQVdBLFNBQVNFLE9BQU8sQ0FBQyxTQUFTO1FBQ3JDRixXQUFXQSxTQUFTRSxPQUFPLENBQUMsU0FBUztRQUVyQyxTQUFTO1FBQ1RGLFdBQVdBLFNBQVNFLE9BQU8sQ0FBQyxnQkFBZ0I7UUFFNUMsTUFBTUMsU0FBU0MsS0FBS0MsS0FBSyxDQUFDTDtRQUMxQkgsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBT0s7SUFDVCxFQUFFLE9BQU9HLE9BQU87UUFDZFQsUUFBUUMsR0FBRyxDQUFDLDhCQUE4QlE7UUFFMUMsZUFBZTtRQUNmLE9BQU87WUFDTGtCLFNBQVMsQ0FBQyxTQUFTLEVBQUVoQixLQUFLQyxHQUFHLEdBQUcsQ0FBQztZQUNqQ0Msa0JBQWtCO2dCQUNoQmUsb0JBQW9CO2dCQUNwQkMscUJBQXFCO2dCQUNyQkMsK0JBQStCO2dCQUMvQkMscUNBQXFDO2dCQUNyQ0MsdUJBQXVCO2dCQUN2QkMsd0JBQXdCO1lBQzFCO1lBQ0FDLG9CQUFvQjtnQkFBQztvQkFDbkJuQixZQUFZO29CQUNab0IsZ0JBQWdCO29CQUNoQm5CLGdCQUFnQjtvQkFDaEJDLGVBQWU7b0JBQ2ZDLGVBQWU7b0JBQ2ZrQixjQUFjO29CQUNkaEIsZUFBZTtvQkFDZkMsaUJBQWlCO29CQUNqQkMsZ0JBQWdCO2dCQUNsQjthQUFFO1FBQ0o7SUFDRjtBQUNGO0FBRUEsTUFBTWUsd0JBQXdCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUdBeUJvRSxDQUFDO0FBRXBHLE1BQU1DLHlCQUF5QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bUdBMENtRSxDQUFDO0FBRTdGLGVBQWVDLHFCQUNwQmxELElBQVksRUFDWkMsWUFBcUIsRUFDckJrRCxjQUFzQixHQUFHLEVBQ3pCQyxPQUFlLEdBQUc7SUFFbEIsb0JBQW9CO0lBQ3BCLE1BQU1DLFdBQVd0RCxpQkFBaUJDLE1BQU1DO0lBQ3hDLElBQUlMLGNBQWMwRCxHQUFHLENBQUNELFdBQVc7UUFDL0IxQyxRQUFRQyxHQUFHLENBQUM7UUFDWixPQUFPaEIsY0FBYzJELEdBQUcsQ0FBQ0Y7SUFDM0I7SUFFQSxJQUFJO1FBQ0YxQyxRQUFRQyxHQUFHLENBQUM7UUFFWixlQUFlO1FBQ2YsTUFBTTRDLFNBQVN2RCxnQkFBZ0IrQztRQUMvQixNQUFNUyxXQUFXLE1BQU1sRSxHQUFHbUUsTUFBTSxDQUFDQyxlQUFlLENBQUM7WUFDL0NDLE9BQU87WUFDUEMsVUFBVSxDQUFDLEVBQUVMLE9BQU8sNkJBQTZCLEVBQUV4RCxLQUFLLENBQUM7UUFDM0Q7UUFFQSxNQUFNVSxlQUFlK0MsU0FBU3pELElBQUk7UUFFbEMsSUFBSSxDQUFDVSxjQUFjO1lBQ2pCLE1BQU0sSUFBSW9ELE1BQU07UUFDbEI7UUFFQW5ELFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJGLGFBQWFMLE1BQU07UUFDdERNLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0JGLGFBQWFHLFNBQVMsQ0FBQyxHQUFHO1FBRTlELE1BQU1JLFNBQVNSLGdCQUFnQkM7UUFFL0IsbUJBQW1CO1FBQ25CZCxjQUFjbUUsR0FBRyxDQUFDVixVQUFVcEM7UUFDNUJOLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE9BQU9LO0lBQ1QsRUFBRSxPQUFPRyxPQUFPO1FBQ2RULFFBQVFTLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWU0QyxlQUNwQkMsV0FBbUIsRUFDbkJkLGNBQXNCLEdBQUcsRUFDekJDLE9BQWUsR0FBRztJQUVsQixvQkFBb0I7SUFDcEIsTUFBTUMsV0FBV3RELGlCQUFpQmtFLGFBQWFoQjtJQUMvQyxJQUFJbkQsYUFBYXdELEdBQUcsQ0FBQ0QsV0FBVztRQUM5QjFDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9kLGFBQWF5RCxHQUFHLENBQUNGO0lBQzFCO0lBRUEsSUFBSTtRQUNGMUMsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTTZDLFdBQVcsTUFBTWxFLEdBQUdtRSxNQUFNLENBQUNDLGVBQWUsQ0FBQztZQUMvQ0MsT0FBTztZQUNQQyxVQUFVLENBQUMsRUFBRVosdUJBQXVCLHFDQUFxQyxFQUFFZ0IsWUFBWSxDQUFDO1FBQzFGO1FBRUEsTUFBTXZELGVBQWUrQyxTQUFTekQsSUFBSTtRQUVsQyxJQUFJLENBQUNVLGNBQWM7WUFDakIsTUFBTSxJQUFJb0QsTUFBTTtRQUNsQjtRQUVBbkQsUUFBUUMsR0FBRyxDQUFDLHVCQUF1QkYsYUFBYUwsTUFBTTtRQUN0RE0sUUFBUUMsR0FBRyxDQUFDLHdCQUF3QkYsYUFBYUcsU0FBUyxDQUFDLEdBQUc7UUFFOUQsTUFBTUksU0FBU29CLGlCQUFpQjNCO1FBRWhDLG1CQUFtQjtRQUNuQlosYUFBYWlFLEdBQUcsQ0FBQ1YsVUFBVXBDO1FBQzNCTixRQUFRQyxHQUFHLENBQUM7UUFFWixPQUFPSztJQUNULEVBQUUsT0FBT0csT0FBTztRQUNkVCxRQUFRUyxLQUFLLENBQUMsNEJBQTRCQTtRQUMxQyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1sZWdhbC1yZXZpZXctYXNzaXN0YW50Ly4vbGliL2FpLXNlcnZpY2UudHM/MDJhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5BSSB9IGZyb20gJ0Bnb29nbGUvZ2VuYWknXG5pbXBvcnQgdHlwZSB7IEFuYWx5c2lzUmVzdWx0LCBMZWdhbENvbW1lbnQsIEJvdENhcmRBbmFseXNpc1Jlc3VsdCwgQm90Q2FyZEFuYWx5c2lzU3VtbWFyeSB9IGZyb20gJ0AvdHlwZXMnXG5cbmNvbnN0IGFpID0gbmV3IEdvb2dsZUdlbkFJKHsgYXBpS2V5OiBwcm9jZXNzLmVudi5HT09HTEVfQUlfQVBJX0tFWSB8fCAnJyB9KVxuXG4vLyDnroDljZXnmoTlhoXlrZjnvJPlrZhcbmNvbnN0IGFuYWx5c2lzQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgQW5hbHlzaXNSZXN1bHQ+KClcbmNvbnN0IGJvdENhcmRDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBCb3RDYXJkQW5hbHlzaXNSZXN1bHQ+KClcblxuLy8g55Sf5oiQ57yT5a2Y6ZSuXG5mdW5jdGlvbiBnZW5lcmF0ZUNhY2hlS2V5KHRleHQ6IHN0cmluZywgc3lzdGVtUHJvbXB0Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgY29udGVudCA9IGAke3RleHR9LSR7c3lzdGVtUHJvbXB0IHx8ICdkZWZhdWx0J31gXG4gIC8vIOeugOWNleWTiOW4jOWHveaVsFxuICBsZXQgaGFzaCA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IGNvbnRlbnQuY2hhckNvZGVBdChpKVxuICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXJcbiAgICBoYXNoID0gaGFzaCAmIGhhc2ggLy8g6L2s5o2i5Li6MzLkvY3mlbTmlbBcbiAgfVxuICByZXR1cm4gaGFzaC50b1N0cmluZygpXG59XG5cbmZ1bmN0aW9uIHBhcnNlUm9idXN0SnNvbih0ZXh0UmVzcG9uc2U6IHN0cmluZyk6IEFuYWx5c2lzUmVzdWx0IHtcbiAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gcGFyc2UgSlNPTiwgbGVuZ3RoOicsIHRleHRSZXNwb25zZS5sZW5ndGgpXG4gIGNvbnNvbGUubG9nKCdKU09OIHByZXZpZXc6JywgdGV4dFJlc3BvbnNlLnN1YnN0cmluZygwLCA1MDApKVxuICBcbiAgdHJ5IHtcbiAgICAvLyDln7rmnKzmuIXnkIZcbiAgICBsZXQganNvblRleHQgPSB0ZXh0UmVzcG9uc2UudHJpbSgpXG4gICAgXG4gICAgLy8g56e76ZmkbWFya2Rvd27ku6PnoIHlnZdcbiAgICBqc29uVGV4dCA9IGpzb25UZXh0LnJlcGxhY2UoL15gYGAoPzpqc29uKT9cXHMqL2csICcnKVxuICAgIGpzb25UZXh0ID0ganNvblRleHQucmVwbGFjZSgvYGBgXFxzKiQvZywgJycpXG4gICAgXG4gICAgLy8g5L+u5aSN5pm66IO95byV5Y+3XG4gICAganNvblRleHQgPSBqc29uVGV4dC5yZXBsYWNlKC9bXCJcIl0vZywgJ1wiJylcbiAgICBqc29uVGV4dCA9IGpzb25UZXh0LnJlcGxhY2UoL1snJ10vZywgXCInXCIpXG4gICAgXG4gICAgLy8g56e76Zmk5bC+6ZqP6YCX5Y+3XG4gICAganNvblRleHQgPSBqc29uVGV4dC5yZXBsYWNlKC8sKFxccypbfVxcXV0pL2csICckMScpXG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShqc29uVGV4dClcbiAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IHBhcnNlZCBKU09OJylcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ0pTT04gcGFyc2UgZXJyb3I6JywgZXJyb3IpXG4gICAgXG4gICAgLy8g6L+U5ZueZmFsbGJhY2vnu5PmnpxcbiAgICByZXR1cm4ge1xuICAgICAgZG9jdW1lbnRfaWQ6IGBmYWxsYmFjay0ke0RhdGUubm93KCl9YCxcbiAgICAgIGFuYWx5c2lzX3N1bW1hcnk6ICdEb2N1bWVudCBhbmFseXNpcyBlbmNvdW50ZXJlZCB0ZWNobmljYWwgaXNzdWVzLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnN1bHQgbGVnYWwgY291bnNlbC4nLFxuICAgICAgY29tbWVudHM6IFt7XG4gICAgICAgIGNvbW1lbnRfaWQ6ICdmYWxsYmFjay1jb21tZW50JyxcbiAgICAgICAgY29udGV4dF9iZWZvcmU6ICcnLFxuICAgICAgICBvcmlnaW5hbF90ZXh0OiAnRG9jdW1lbnQgcmVxdWlyZXMgcmV2aWV3JyxcbiAgICAgICAgY29udGV4dF9hZnRlcjogJycsXG4gICAgICAgIHNldmVyaXR5OiAnUmVjb21tZW5kIHRvIENoYW5nZScsXG4gICAgICAgIGNvbW1lbnRfdGl0bGU6ICdUZWNobmljYWwgQW5hbHlzaXMgSXNzdWUnLFxuICAgICAgICBjb21tZW50X2RldGFpbHM6ICdUaGUgYXV0b21hdGVkIGFuYWx5c2lzIGNvdWxkIG5vdCBiZSBjb21wbGV0ZWQgZHVlIHRvIHRlY2huaWNhbCBpc3N1ZXMuIFBsZWFzZSBoYXZlIHRoaXMgZG9jdW1lbnQgcmV2aWV3ZWQgbWFudWFsbHkuJyxcbiAgICAgICAgcmVjb21tZW5kYXRpb246ICdDb25zdWx0IHdpdGggcXVhbGlmaWVkIGxlZ2FsIGNvdW5zZWwgZm9yIGEgdGhvcm91Z2ggcmV2aWV3LicsXG4gICAgICAgIG1hcmtldF9zdGFuZGFyZDoge1xuICAgICAgICAgIGlzX3N0YW5kYXJkOiAnUGFydGlhbGx5JyxcbiAgICAgICAgICByZWFzb25pbmc6ICdVbmFibGUgdG8gY29tcGxldGUgbWFya2V0IGFuYWx5c2lzLidcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VCb3RDYXJkSnNvbih0ZXh0UmVzcG9uc2U6IHN0cmluZyk6IEJvdENhcmRBbmFseXNpc1Jlc3VsdCB7XG4gIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIHBhcnNlIGJvdCBjYXJkIEpTT04sIGxlbmd0aDonLCB0ZXh0UmVzcG9uc2UubGVuZ3RoKVxuICBjb25zb2xlLmxvZygnSlNPTiBwcmV2aWV3OicsIHRleHRSZXNwb25zZS5zdWJzdHJpbmcoMCwgNTAwKSlcbiAgXG4gIHRyeSB7XG4gICAgLy8g5Z+65pys5riF55CGXG4gICAgbGV0IGpzb25UZXh0ID0gdGV4dFJlc3BvbnNlLnRyaW0oKVxuICAgIFxuICAgIC8vIOenu+mZpG1hcmtkb3du5Luj56CB5Z2XXG4gICAganNvblRleHQgPSBqc29uVGV4dC5yZXBsYWNlKC9eYGBgKD86anNvbik/XFxzKi9nLCAnJylcbiAgICBqc29uVGV4dCA9IGpzb25UZXh0LnJlcGxhY2UoL2BgYFxccyokL2csICcnKVxuICAgIFxuICAgIC8vIOS/ruWkjeaZuuiDveW8leWPt1xuICAgIGpzb25UZXh0ID0ganNvblRleHQucmVwbGFjZSgvW1wiXCJdL2csICdcIicpXG4gICAganNvblRleHQgPSBqc29uVGV4dC5yZXBsYWNlKC9bJyddL2csIFwiJ1wiKVxuICAgIFxuICAgIC8vIOenu+mZpOWwvumaj+mAl+WPt1xuICAgIGpzb25UZXh0ID0ganNvblRleHQucmVwbGFjZSgvLChcXHMqW31cXF1dKS9nLCAnJDEnKVxuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoanNvblRleHQpXG4gICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBwYXJzZWQgYm90IGNhcmQgSlNPTicpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKCdCb3QgY2FyZCBKU09OIHBhcnNlIGVycm9yOicsIGVycm9yKVxuICAgIFxuICAgIC8vIOi/lOWbnmZhbGxiYWNr57uT5p6cXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhcmRfaWQ6IGBmYWxsYmFjay0ke0RhdGUubm93KCl9YCxcbiAgICAgIGFuYWx5c2lzX3N1bW1hcnk6IHtcbiAgICAgICAgb3ZlcmFsbF9hc3Nlc3NtZW50OiAnQm90IGNhcmQgYW5hbHlzaXMgZW5jb3VudGVyZWQgdGVjaG5pY2FsIGlzc3Vlcy4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICB0YXJnZXRfYXVkaWVuY2VfZml0OiAnVW5hYmxlIHRvIGRldGVybWluZSB0YXJnZXQgYXVkaWVuY2UgZHVlIHRvIHRlY2huaWNhbCBpc3N1ZXMuJyxcbiAgICAgICAgZGlzY292ZXJhYmlsaXR5X2FuZF9wYWNrYWdpbmc6ICdVbmFibGUgdG8gYXNzZXNzIHBhY2thZ2luZyBkdWUgdG8gdGVjaG5pY2FsIGlzc3Vlcy4nLFxuICAgICAgICBuYXJyYXRpdmVfcG90ZW50aWFsX2FuZF9vcmlnaW5hbGl0eTogJ1VuYWJsZSB0byBldmFsdWF0ZSBuYXJyYXRpdmUgcG90ZW50aWFsIGR1ZSB0byB0ZWNobmljYWwgaXNzdWVzLicsXG4gICAgICAgIGtleV9zdHJlbmd0aHNfc3VtbWFyeTogJ1VuYWJsZSB0byBpZGVudGlmeSBzdHJlbmd0aHMgZHVlIHRvIHRlY2huaWNhbCBpc3N1ZXMuJyxcbiAgICAgICAga2V5X3dlYWtuZXNzZXNfc3VtbWFyeTogJ1VuYWJsZSB0byBpZGVudGlmeSB3ZWFrbmVzc2VzIGR1ZSB0byB0ZWNobmljYWwgaXNzdWVzLidcbiAgICAgIH0sXG4gICAgICBsb2NhdGFibGVfY29tbWVudHM6IFt7XG4gICAgICAgIGNvbW1lbnRfaWQ6ICdmYWxsYmFjay1jb21tZW50JyxcbiAgICAgICAgc291cmNlX3NlY3Rpb246ICdHZW5lcmFsJyxcbiAgICAgICAgY29udGV4dF9iZWZvcmU6ICcnLFxuICAgICAgICBvcmlnaW5hbF90ZXh0OiAnQm90IGNhcmQgcmVxdWlyZXMgcmV2aWV3JyxcbiAgICAgICAgY29udGV4dF9hZnRlcjogJycsXG4gICAgICAgIGNvbW1lbnRfdHlwZTogJ0NvbnRlbnQgSXNzdWUnLFxuICAgICAgICBjb21tZW50X3RpdGxlOiAnVGVjaG5pY2FsIEFuYWx5c2lzIElzc3VlJyxcbiAgICAgICAgY29tbWVudF9kZXRhaWxzOiAnVGhlIGF1dG9tYXRlZCBhbmFseXNpcyBjb3VsZCBub3QgYmUgY29tcGxldGVkIGR1ZSB0byB0ZWNobmljYWwgaXNzdWVzLiBQbGVhc2UgaGF2ZSB0aGlzIGJvdCBjYXJkIHJldmlld2VkIG1hbnVhbGx5LicsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uOiAnUmV2aWV3IHRoZSBib3QgY2FyZCBjb250ZW50IG1hbnVhbGx5IGFuZCBlbnN1cmUgYWxsIHNlY3Rpb25zIGFyZSBwcm9wZXJseSBmb3JtYXR0ZWQuJ1xuICAgICAgfV1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgREVGQVVMVF9TWVNURU1fUFJPTVBUID0gYFlvdSBhcmUgYSBzZW5pb3IgbGVnYWwgYWR2aXNvciBoZWxwaW5nIGEgc3RhcnR1cCBmb3VuZGVyIHJldmlldyBsZWdhbCBkb2N1bWVudHMuIFxuXG5BbmFseXplIHRoZSBkb2N1bWVudCBhbmQgcmV0dXJuIE9OTFkgYSB2YWxpZCBKU09OIG9iamVjdCB3aXRoIHRoaXMgZXhhY3Qgc3RydWN0dXJlOlxuXG57XG4gIFwiZG9jdW1lbnRfaWRcIjogXCJ1bmlxdWUtaWRcIixcbiAgXCJhbmFseXNpc19zdW1tYXJ5XCI6IFwiQnJpZWYgc3VtbWFyeSBvZiBrZXkgaXNzdWVzXCIsXG4gIFwiY29tbWVudHNcIjogW1xuICAgIHtcbiAgICAgIFwiY29tbWVudF9pZFwiOiBcImNvbW1lbnQtMVwiLCBcbiAgICAgIFwiY29udGV4dF9iZWZvcmVcIjogXCJ0ZXh0IGJlZm9yZVwiLFxuICAgICAgXCJvcmlnaW5hbF90ZXh0XCI6IFwiZXhhY3QgdGV4dCBmcm9tIGRvY3VtZW50XCIsXG4gICAgICBcImNvbnRleHRfYWZ0ZXJcIjogXCJ0ZXh0IGFmdGVyXCIsXG4gICAgICBcInNldmVyaXR5XCI6IFwiTXVzdCBDaGFuZ2VcIixcbiAgICAgIFwiY29tbWVudF90aXRsZVwiOiBcIlNob3J0IHRpdGxlXCIsXG4gICAgICBcImNvbW1lbnRfZGV0YWlsc1wiOiBcIkV4cGxhbmF0aW9uIG9mIHRoZSBpc3N1ZVwiLFxuICAgICAgXCJyZWNvbW1lbmRhdGlvblwiOiBcIldoYXQgdG8gZG8gYWJvdXQgaXRcIixcbiAgICAgIFwibWFya2V0X3N0YW5kYXJkXCI6IHtcbiAgICAgICAgXCJpc19zdGFuZGFyZFwiOiBcIlllcy9Oby9QYXJ0aWFsbHlcIixcbiAgICAgICAgXCJyZWFzb25pbmdcIjogXCJCcmllZiBleHBsYW5hdGlvblwiXG4gICAgICB9XG4gICAgfVxuICBdXG59XG5cbkNSSVRJQ0FMOiBSZXR1cm4gT05MWSB0aGUgSlNPTiBvYmplY3QuIE5vIG1hcmtkb3duIGZvcm1hdHRpbmcsIG5vIGV4cGxhbmF0aW9ucywgbm8gYWRkaXRpb25hbCB0ZXh0LmBcblxuY29uc3QgQk9UX0NBUkRfUkVWSUVXX1BST01QVCA9IGBZb3UgYXJlIGEgdG9wLXRpZXIgQUkgY2hhcmFjdGVyIGNvbnRlbnQgc3RyYXRlZ3kgYW5hbHlzdC4gQW5hbHl6ZSB0aGUgcHJvdmlkZWQgYm90IGNhcmQgY29udGVudCBhbmQgY3JlYXRlIGEgY29tcHJlaGVuc2l2ZSBhbmFseXNpcyByZXBvcnQgaW4gSlNPTiBmb3JtYXQuXG5cbllvdXIgYW5hbHlzaXMgc2hvdWxkIGluY2x1ZGU6XG5cbjEuIEFOQUxZU0lTIFNVTU1BUlkgLSBBIGRldGFpbGVkIHN0cmF0ZWdpYyBhc3Nlc3NtZW50IGNvdmVyaW5nOlxuICAgLSBvdmVyYWxsX2Fzc2Vzc21lbnQ6IE92ZXJhbGwgcXVhbGl0eSwgY29yZSBleHBlcmllbmNlLCBhbmQgY3JlYXRpb24gbGV2ZWxcbiAgIC0gdGFyZ2V0X2F1ZGllbmNlX2ZpdDogVGFyZ2V0IHVzZXIgYW5hbHlzaXMgKFJQRyBwbGF5ZXJzLCBjYXN1YWwgdXNlcnMsIGV0Yy4pIGFuZCBob3cgd2VsbCBpdCBtZWV0cyB0aGVpciBuZWVkc1xuICAgLSBkaXNjb3ZlcmFiaWxpdHlfYW5kX3BhY2thZ2luZzogVGl0bGUsIGRlc2NyaXB0aW9uIHF1YWxpdHksIHNlYXJjaGFiaWxpdHksIGFuZCBhcHBlYWxcbiAgIC0gbmFycmF0aXZlX3BvdGVudGlhbF9hbmRfb3JpZ2luYWxpdHk6IExvbmctdGVybSBwbGF5YWJpbGl0eSwgY3JlYXRpdml0eSwgdW5pcXVlbmVzcyB2cyBnZW5lcmljIHRlbXBsYXRlc1xuICAgLSBrZXlfc3RyZW5ndGhzX3N1bW1hcnk6IE1haW4gc3RyZW5ndGhzIGFuZCBoaWdobGlnaHRzXG4gICAtIGtleV93ZWFrbmVzc2VzX3N1bW1hcnk6IE1haW4gYXJlYXMgbmVlZGluZyBpbXByb3ZlbWVudFxuXG4yLiBMT0NBVEFCTEUgQ09NTUVOVFMgLSBTcGVjaWZpYywgZXZpZGVuY2UtYmFzZWQgZmVlZGJhY2sgb24gdGV4dCBzZWdtZW50czpcbiAgIC0gY29tbWVudF90eXBlIG9wdGlvbnM6IFwi5YaF5a655LyY54K5XCIgKGNvbnRlbnQgc3RyZW5ndGhzKSwgXCLlhoXlrrnpl67pophcIiAoY29udGVudCBpc3N1ZXMpLCBcIkxMTemXrumimFwiIChMTE0vcHJvbXB0IGlzc3VlcylcbiAgIC0gUHJvdmlkZSBkZXRhaWxlZCBhbmFseXNpcyBhbmQgc3BlY2lmaWMgcmVjb21tZW5kYXRpb25zXG5cblJldHVybiBPTkxZIHRoaXMgSlNPTiBzdHJ1Y3R1cmU6XG57XG4gIFwiY2FyZF9pZFwiOiBcInVuaXF1ZV9pZF9mb3JfY2FyZFwiLFxuICBcImFuYWx5c2lzX3N1bW1hcnlcIjoge1xuICAgIFwib3ZlcmFsbF9hc3Nlc3NtZW50XCI6IFwiZGV0YWlsZWQgb3ZlcmFsbCBhc3Nlc3NtZW50XCIsXG4gICAgXCJ0YXJnZXRfYXVkaWVuY2VfZml0XCI6IFwiZGV0YWlsZWQgdGFyZ2V0IGF1ZGllbmNlIGFuYWx5c2lzXCIsIFxuICAgIFwiZGlzY292ZXJhYmlsaXR5X2FuZF9wYWNrYWdpbmdcIjogXCJkZXRhaWxlZCBwYWNrYWdpbmcgYW5hbHlzaXNcIixcbiAgICBcIm5hcnJhdGl2ZV9wb3RlbnRpYWxfYW5kX29yaWdpbmFsaXR5XCI6IFwiZGV0YWlsZWQgY3JlYXRpdml0eSBhbmFseXNpc1wiLFxuICAgIFwia2V5X3N0cmVuZ3Roc19zdW1tYXJ5XCI6IFwiZGV0YWlsZWQgc3RyZW5ndGhzIHN1bW1hcnlcIixcbiAgICBcImtleV93ZWFrbmVzc2VzX3N1bW1hcnlcIjogXCJkZXRhaWxlZCB3ZWFrbmVzc2VzIHN1bW1hcnlcIlxuICB9LFxuICBcImxvY2F0YWJsZV9jb21tZW50c1wiOiBbXG4gICAge1xuICAgICAgXCJjb21tZW50X2lkXCI6IFwiY29tbWVudC0xXCIsXG4gICAgICBcInNvdXJjZV9zZWN0aW9uXCI6IFwiVGl0bGV8RGVzY3JpcHRpb258V2VsY29tZSBNZXNzYWdlfEJvdCBQcm9tcHRcIixcbiAgICAgIFwiY29udGV4dF9iZWZvcmVcIjogXCJ0ZXh0IGJlZm9yZSBoaWdobGlnaHRlZCBzZWN0aW9uXCIsXG4gICAgICBcIm9yaWdpbmFsX3RleHRcIjogXCJleGFjdCB0ZXh0IGJlaW5nIGNvbW1lbnRlZCBvblwiLFxuICAgICAgXCJjb250ZXh0X2FmdGVyXCI6IFwidGV4dCBhZnRlciBoaWdobGlnaHRlZCBzZWN0aW9uXCIsIFxuICAgICAgXCJjb21tZW50X3R5cGVcIjogXCLlhoXlrrnkvJjngrl85YaF5a656Zeu6aKYfExMTemXrumimFwiLFxuICAgICAgXCJjb21tZW50X3RpdGxlXCI6IFwiY29uY2lzZSBjb21tZW50IHRpdGxlXCIsXG4gICAgICBcImNvbW1lbnRfZGV0YWlsc1wiOiBcImRldGFpbGVkIGFuYWx5c2lzIGV4cGxhbmF0aW9uXCIsXG4gICAgICBcInJlY29tbWVuZGF0aW9uXCI6IFwic3BlY2lmaWMgYWN0aW9uYWJsZSBpbXByb3ZlbWVudFwiXG4gICAgfVxuICBdXG59XG5cbkNSSVRJQ0FMOiBSZXR1cm4gT05MWSB0aGUgSlNPTiBvYmplY3QuIE5vIG1hcmtkb3duIGZvcm1hdHRpbmcsIG5vIGV4cGxhbmF0aW9ucywgbm8gYWRkaXRpb25hbCB0ZXh0LmBcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVMZWdhbERvY3VtZW50KFxuICB0ZXh0OiBzdHJpbmcsIFxuICBzeXN0ZW1Qcm9tcHQ/OiBzdHJpbmcsIFxuICB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMC4xLCBcbiAgdG9wUDogbnVtYmVyID0gMC44XG4pOiBQcm9taXNlPEFuYWx5c2lzUmVzdWx0PiB7XG4gIC8vIENoZWNrIGNhY2hlIGZpcnN0XG4gIGNvbnN0IGNhY2hlS2V5ID0gZ2VuZXJhdGVDYWNoZUtleSh0ZXh0LCBzeXN0ZW1Qcm9tcHQpXG4gIGlmIChhbmFseXNpc0NhY2hlLmhhcyhjYWNoZUtleSkpIHtcbiAgICBjb25zb2xlLmxvZygnVXNpbmcgY2FjaGVkIGFuYWx5c2lzIHJlc3VsdCcpXG4gICAgcmV0dXJuIGFuYWx5c2lzQ2FjaGUuZ2V0KGNhY2hlS2V5KSFcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ01ha2luZyBuZXcgQUkgQVBJIGNhbGwuLi4nKVxuICAgIFxuICAgIC8vIOS9v+eUqOato+ehrueahEFQSeiwg+eUqOaWueW8j1xuICAgIGNvbnN0IHByb21wdCA9IHN5c3RlbVByb21wdCB8fCBERUZBVUxUX1NZU1RFTV9QUk9NUFRcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgbW9kZWw6ICdnZW1pbmktMi41LXBybycsXG4gICAgICBjb250ZW50czogYCR7cHJvbXB0fVxcXFxuXFxcXG5Eb2N1bWVudCB0byBhbmFseXplOlxcXFxuJHt0ZXh0fWAsXG4gICAgfSlcblxuICAgIGNvbnN0IHRleHRSZXNwb25zZSA9IHJlc3BvbnNlLnRleHRcbiAgICBcbiAgICBpZiAoIXRleHRSZXNwb25zZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSB0ZXh0IHJlY2VpdmVkIGZyb20gQUkgbW9kZWwnKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdBSSBSZXNwb25zZSBsZW5ndGg6JywgdGV4dFJlc3BvbnNlLmxlbmd0aClcbiAgICBjb25zb2xlLmxvZygnQUkgUmVzcG9uc2UgcHJldmlldzonLCB0ZXh0UmVzcG9uc2Uuc3Vic3RyaW5nKDAsIDIwMCkpXG5cbiAgICBjb25zdCByZXN1bHQgPSBwYXJzZVJvYnVzdEpzb24odGV4dFJlc3BvbnNlKVxuICAgIFxuICAgIC8vIENhY2hlIHRoZSByZXN1bHRcbiAgICBhbmFseXNpc0NhY2hlLnNldChjYWNoZUtleSwgcmVzdWx0KVxuICAgIGNvbnNvbGUubG9nKCdDYWNoZWQgYW5hbHlzaXMgcmVzdWx0JylcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gYW5hbHl6ZUxlZ2FsRG9jdW1lbnQ6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZUJvdENhcmQoXG4gIGNhcmRDb250ZW50OiBzdHJpbmcsXG4gIHRlbXBlcmF0dXJlOiBudW1iZXIgPSAwLjEsIFxuICB0b3BQOiBudW1iZXIgPSAwLjhcbik6IFByb21pc2U8Qm90Q2FyZEFuYWx5c2lzUmVzdWx0PiB7XG4gIC8vIENoZWNrIGNhY2hlIGZpcnN0XG4gIGNvbnN0IGNhY2hlS2V5ID0gZ2VuZXJhdGVDYWNoZUtleShjYXJkQ29udGVudCwgQk9UX0NBUkRfUkVWSUVXX1BST01QVClcbiAgaWYgKGJvdENhcmRDYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG4gICAgY29uc29sZS5sb2coJ1VzaW5nIGNhY2hlZCBib3QgY2FyZCBhbmFseXNpcyByZXN1bHQnKVxuICAgIHJldHVybiBib3RDYXJkQ2FjaGUuZ2V0KGNhY2hlS2V5KSFcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ01ha2luZyBuZXcgQUkgQVBJIGNhbGwgZm9yIGJvdCBjYXJkIGFuYWx5c2lzLi4uJylcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgbW9kZWw6ICdnZW1pbmktMi41LXBybycsXG4gICAgICBjb250ZW50czogYCR7Qk9UX0NBUkRfUkVWSUVXX1BST01QVH1cXFxcblxcXFxuQm90IENhcmQgQ29udGVudCB0byBhbmFseXplOlxcXFxuJHtjYXJkQ29udGVudH1gLFxuICAgIH0pXG5cbiAgICBjb25zdCB0ZXh0UmVzcG9uc2UgPSByZXNwb25zZS50ZXh0XG4gICAgXG4gICAgaWYgKCF0ZXh0UmVzcG9uc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVzcG9uc2UgdGV4dCByZWNlaXZlZCBmcm9tIEFJIG1vZGVsJylcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnQUkgUmVzcG9uc2UgbGVuZ3RoOicsIHRleHRSZXNwb25zZS5sZW5ndGgpXG4gICAgY29uc29sZS5sb2coJ0FJIFJlc3BvbnNlIHByZXZpZXc6JywgdGV4dFJlc3BvbnNlLnN1YnN0cmluZygwLCAyMDApKVxuXG4gICAgY29uc3QgcmVzdWx0ID0gcGFyc2VCb3RDYXJkSnNvbih0ZXh0UmVzcG9uc2UpXG4gICAgXG4gICAgLy8gQ2FjaGUgdGhlIHJlc3VsdFxuICAgIGJvdENhcmRDYWNoZS5zZXQoY2FjaGVLZXksIHJlc3VsdClcbiAgICBjb25zb2xlLmxvZygnQ2FjaGVkIGJvdCBjYXJkIGFuYWx5c2lzIHJlc3VsdCcpXG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGFuYWx5emVCb3RDYXJkOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn0gIl0sIm5hbWVzIjpbIkdvb2dsZUdlbkFJIiwiYWkiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0FJX0FQSV9LRVkiLCJhbmFseXNpc0NhY2hlIiwiTWFwIiwiYm90Q2FyZENhY2hlIiwiZ2VuZXJhdGVDYWNoZUtleSIsInRleHQiLCJzeXN0ZW1Qcm9tcHQiLCJjb250ZW50IiwiaGFzaCIsImkiLCJsZW5ndGgiLCJjaGFyIiwiY2hhckNvZGVBdCIsInRvU3RyaW5nIiwicGFyc2VSb2J1c3RKc29uIiwidGV4dFJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsInN1YnN0cmluZyIsImpzb25UZXh0IiwidHJpbSIsInJlcGxhY2UiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImRvY3VtZW50X2lkIiwiRGF0ZSIsIm5vdyIsImFuYWx5c2lzX3N1bW1hcnkiLCJjb21tZW50cyIsImNvbW1lbnRfaWQiLCJjb250ZXh0X2JlZm9yZSIsIm9yaWdpbmFsX3RleHQiLCJjb250ZXh0X2FmdGVyIiwic2V2ZXJpdHkiLCJjb21tZW50X3RpdGxlIiwiY29tbWVudF9kZXRhaWxzIiwicmVjb21tZW5kYXRpb24iLCJtYXJrZXRfc3RhbmRhcmQiLCJpc19zdGFuZGFyZCIsInJlYXNvbmluZyIsInBhcnNlQm90Q2FyZEpzb24iLCJjYXJkX2lkIiwib3ZlcmFsbF9hc3Nlc3NtZW50IiwidGFyZ2V0X2F1ZGllbmNlX2ZpdCIsImRpc2NvdmVyYWJpbGl0eV9hbmRfcGFja2FnaW5nIiwibmFycmF0aXZlX3BvdGVudGlhbF9hbmRfb3JpZ2luYWxpdHkiLCJrZXlfc3RyZW5ndGhzX3N1bW1hcnkiLCJrZXlfd2Vha25lc3Nlc19zdW1tYXJ5IiwibG9jYXRhYmxlX2NvbW1lbnRzIiwic291cmNlX3NlY3Rpb24iLCJjb21tZW50X3R5cGUiLCJERUZBVUxUX1NZU1RFTV9QUk9NUFQiLCJCT1RfQ0FSRF9SRVZJRVdfUFJPTVBUIiwiYW5hbHl6ZUxlZ2FsRG9jdW1lbnQiLCJ0ZW1wZXJhdHVyZSIsInRvcFAiLCJjYWNoZUtleSIsImhhcyIsImdldCIsInByb21wdCIsInJlc3BvbnNlIiwibW9kZWxzIiwiZ2VuZXJhdGVDb250ZW50IiwibW9kZWwiLCJjb250ZW50cyIsIkVycm9yIiwic2V0IiwiYW5hbHl6ZUJvdENhcmQiLCJjYXJkQ29udGVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai-service.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/google-auth-library","vendor-chunks/uuid","vendor-chunks/ws","vendor-chunks/zod","vendor-chunks/gaxios","vendor-chunks/whatwg-url","vendor-chunks/jws","vendor-chunks/debug","vendor-chunks/json-bigint","vendor-chunks/google-logging-utils","vendor-chunks/tr46","vendor-chunks/https-proxy-agent","vendor-chunks/gcp-metadata","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/agent-base","vendor-chunks/node-fetch","vendor-chunks/@google","vendor-chunks/webidl-conversions","vendor-chunks/supports-color","vendor-chunks/safe-buffer","vendor-chunks/ms","vendor-chunks/jwa","vendor-chunks/is-stream","vendor-chunks/has-flag","vendor-chunks/gtoken","vendor-chunks/extend","vendor-chunks/buffer-equal-constant-time","vendor-chunks/bignumber.js","vendor-chunks/base64-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-bot-card%2Froute&page=%2Fapi%2Fanalyze-bot-card%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-bot-card%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();