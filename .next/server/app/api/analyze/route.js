/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze/route";
exports.ids = ["app/api/analyze/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_lifanwang_Legal_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analyze/route.ts */ \"(rsc)/./app/api/analyze/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze/route\",\n        pathname: \"/api/analyze\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze/route\"\n    },\n    resolvedPagePath: \"/Users/lifanwang/Legal/app/api/analyze/route.ts\",\n    nextConfigOutput,\n    userland: _Users_lifanwang_Legal_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analyze/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmxpZmFud2FuZyUyRkxlZ2FsJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmxpZmFud2FuZyUyRkxlZ2FsJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktbGVnYWwtcmV2aWV3LWFzc2lzdGFudC8/OTlkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbGlmYW53YW5nL0xlZ2FsL2FwcC9hcGkvYW5hbHl6ZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5hbHl6ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FuYWx5emVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FuYWx5emUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvbGlmYW53YW5nL0xlZ2FsL2FwcC9hcGkvYW5hbHl6ZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl6ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analyze/route.ts":
/*!**********************************!*\
  !*** ./app/api/analyze/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n/* harmony import */ var _lib_ai_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/ai-service */ \"(rsc)/./lib/ai-service.ts\");\n\n\n\nconst analyzeSchema = zod__WEBPACK_IMPORTED_MODULE_2__.object({\n    text: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1, \"Document text is required\"),\n    systemPrompt: zod__WEBPACK_IMPORTED_MODULE_2__.string().optional(),\n    temperature: zod__WEBPACK_IMPORTED_MODULE_2__.number().min(0).max(2).optional(),\n    topP: zod__WEBPACK_IMPORTED_MODULE_2__.number().min(0).max(1).optional()\n});\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const validatedData = analyzeSchema.parse(body);\n        const { text, systemPrompt, temperature = 0.1, topP = 0.8 } = validatedData;\n        const result = await (0,_lib_ai_service__WEBPACK_IMPORTED_MODULE_1__.analyzeLegalDocument)(text, systemPrompt, temperature, topP);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: result\n        });\n    } catch (error) {\n        console.error(\"Analysis API error:\", error);\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_3__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Invalid request data: \" + error.errors.map((e)=>e.message).join(\", \")\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : \"Failed to analyze document\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FuYWx5emUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUQ7QUFDaEM7QUFDZ0M7QUFHdkQsTUFBTUcsZ0JBQWdCRix1Q0FBUSxDQUFDO0lBQzdCSSxNQUFNSix1Q0FBUSxHQUFHTSxHQUFHLENBQUMsR0FBRztJQUN4QkMsY0FBY1AsdUNBQVEsR0FBR1EsUUFBUTtJQUNqQ0MsYUFBYVQsdUNBQVEsR0FBR00sR0FBRyxDQUFDLEdBQUdLLEdBQUcsQ0FBQyxHQUFHSCxRQUFRO0lBQzlDSSxNQUFNWix1Q0FBUSxHQUFHTSxHQUFHLENBQUMsR0FBR0ssR0FBRyxDQUFDLEdBQUdILFFBQVE7QUFDekM7QUFFTyxlQUFlSyxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU1DLGdCQUFnQmYsY0FBY2dCLEtBQUssQ0FBQ0g7UUFFMUMsTUFBTSxFQUFFWCxJQUFJLEVBQUVHLFlBQVksRUFBRUUsY0FBYyxHQUFHLEVBQUVHLE9BQU8sR0FBRyxFQUFFLEdBQUdLO1FBRTlELE1BQU1FLFNBQVMsTUFBTWxCLHFFQUFvQkEsQ0FBQ0csTUFBTUcsY0FBY0UsYUFBYUc7UUFFM0UsT0FBT2IscURBQVlBLENBQUNpQixJQUFJLENBQUM7WUFDdkJJLFNBQVM7WUFDVEMsTUFBTUY7UUFDUjtJQUNGLEVBQUUsT0FBT0csT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsdUJBQXVCQTtRQUVyQyxJQUFJQSxpQkFBaUJ0Qix5Q0FBVSxFQUFFO1lBQy9CLE9BQU9ELHFEQUFZQSxDQUFDaUIsSUFBSSxDQUFDO2dCQUN2QkksU0FBUztnQkFDVEUsT0FBTywyQkFBMkJBLE1BQU1HLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxPQUFPLEVBQUVDLElBQUksQ0FBQztZQUMxRSxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDbkI7UUFFQSxPQUFPL0IscURBQVlBLENBQUNpQixJQUFJLENBQUM7WUFDdkJJLFNBQVM7WUFDVEUsT0FBT0EsaUJBQWlCUyxRQUFRVCxNQUFNTSxPQUFPLEdBQUc7UUFDbEQsR0FBRztZQUFFRSxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWxlZ2FsLXJldmlldy1hc3Npc3RhbnQvLi9hcHAvYXBpL2FuYWx5emUvcm91dGUudHM/NDZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuaW1wb3J0IHsgYW5hbHl6ZUxlZ2FsRG9jdW1lbnQgfSBmcm9tICdAL2xpYi9haS1zZXJ2aWNlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25SZXNwb25zZSwgQW5hbHlzaXNSZXN1bHQgfSBmcm9tICdAL3R5cGVzJ1xuXG5jb25zdCBhbmFseXplU2NoZW1hID0gei5vYmplY3Qoe1xuICB0ZXh0OiB6LnN0cmluZygpLm1pbigxLCAnRG9jdW1lbnQgdGV4dCBpcyByZXF1aXJlZCcpLFxuICBzeXN0ZW1Qcm9tcHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdGVtcGVyYXR1cmU6IHoubnVtYmVyKCkubWluKDApLm1heCgyKS5vcHRpb25hbCgpLFxuICB0b3BQOiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMSkub3B0aW9uYWwoKSxcbn0pXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTxOZXh0UmVzcG9uc2U8QWN0aW9uUmVzcG9uc2U8QW5hbHlzaXNSZXN1bHQ+Pj4ge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnN0IHZhbGlkYXRlZERhdGEgPSBhbmFseXplU2NoZW1hLnBhcnNlKGJvZHkpXG4gICAgXG4gICAgY29uc3QgeyB0ZXh0LCBzeXN0ZW1Qcm9tcHQsIHRlbXBlcmF0dXJlID0gMC4xLCB0b3BQID0gMC44IH0gPSB2YWxpZGF0ZWREYXRhXG4gICAgXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl6ZUxlZ2FsRG9jdW1lbnQodGV4dCwgc3lzdGVtUHJvbXB0LCB0ZW1wZXJhdHVyZSwgdG9wUClcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQW5hbHlzaXMgQVBJIGVycm9yOicsIGVycm9yKVxuICAgIFxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCBkYXRhOiAnICsgZXJyb3IuZXJyb3JzLm1hcChlID0+IGUubWVzc2FnZSkuam9pbignLCAnKVxuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGFuYWx5emUgZG9jdW1lbnQnXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ6IiwiYW5hbHl6ZUxlZ2FsRG9jdW1lbnQiLCJhbmFseXplU2NoZW1hIiwib2JqZWN0IiwidGV4dCIsInN0cmluZyIsIm1pbiIsInN5c3RlbVByb21wdCIsIm9wdGlvbmFsIiwidGVtcGVyYXR1cmUiLCJudW1iZXIiLCJtYXgiLCJ0b3BQIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInZhbGlkYXRlZERhdGEiLCJwYXJzZSIsInJlc3VsdCIsInN1Y2Nlc3MiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiWm9kRXJyb3IiLCJlcnJvcnMiLCJtYXAiLCJlIiwibWVzc2FnZSIsImpvaW4iLCJzdGF0dXMiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analyze/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai-service.ts":
/*!***************************!*\
  !*** ./lib/ai-service.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeLegalDocument: () => (/* binding */ analyzeLegalDocument),\n/* harmony export */   validateAnalysisResult: () => (/* binding */ validateAnalysisResult)\n/* harmony export */ });\n/* harmony import */ var _google_genai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/genai */ \"(rsc)/./node_modules/@google/genai/dist/node/index.mjs\");\n\nconst ai = new _google_genai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenAI({\n    apiKey: \"AIzaSyDIEvtGeRzQ_4Iop0GmZGbmC8yIzEEp5I8\" || 0\n});\nconst DEFAULT_SYSTEM_PROMPT = `You are a world-class lawyer from a top-tier Silicon Valley law firm, specializing in venture capital financing. You are assisting a startup founder who is not a legal expert. Your task is to review the provided legal document and identify potential risks and areas for negotiation. The risk includes legal risk and also risk that founders might miss while busy building (e.g. repurchase needs to happen within xx months). IMPORTANT: You will always on the founder's side and maximize founder's benefit.\n\nYour response MUST be a single, valid JSON object. Do not add any text before or after the JSON object.\n\nThe JSON object must have the following structure:\n{\n  \"document_id\": \"A unique identifier for the document\",\n  \"analysis_summary\": \"A brief, 2-3 sentence summary of the overall document and its key risks.\",\n  \"comments\": [\n    {\n      \"comment_id\": \"A unique identifier for the comment\",\n      \"context_before\": \"CRITICAL FOR POSITIONING: Extract 10-20 words (not just 5-10) immediately PRECEDING the target text. Include punctuation and exact spacing. This must be verbatim text from the document. If the target text is at the very beginning, this can be empty string.\",\n      \"original_text\": \"CRITICAL FOR POSITIONING: Extract the exact, verbatim text snippet that this comment refers to. This must be character-perfect match from the document. Include all punctuation, spacing, and capitalization exactly as it appears.\",\n      \"context_after\": \"CRITICAL FOR POSITIONING: Extract 10-20 words (not just 5-10) immediately FOLLOWING the target text. Include punctuation and exact spacing. This must be verbatim text from the document. If the target text is at the very end, this can be empty string.\",\n      \"severity\": \"Categorize the issue into one of three levels: 'Must Change', 'Recommend to Change', or 'Negotiable'.\",\n      \"comment_title\": \"A short, descriptive title for the issue (5-10 words).\",\n      \"comment_details\": \"A detailed explanation of why this clause is a problem, written in simple, easy-to-understand language for a non-lawyer. Explain the potential negative impact on the founder or the company.\",\n      \"recommendation\": \"Provide concrete, actionable advice. Suggest specific alternative wording or negotiation strategies. Clearly state what the founder should ask for.\"\n    }\n  ]\n}\n\nCRITICAL POSITIONING REQUIREMENTS:\n1. context_before and context_after must be exact verbatim text from the document\n2. Include at least 10-20 words in context (more is better for unique matching)\n3. Include punctuation, line breaks, and spacing exactly as they appear\n4. The combination of context_before + original_text + context_after should form a unique, findable sequence in the document\n5. Double-check that your extracted text exactly matches the source document\n\nAnalyze the following document:`;\nasync function analyzeLegalDocument(text, systemPrompt = DEFAULT_SYSTEM_PROMPT, temperature = 0.1, topP = 0.8) {\n    try {\n        const prompt = `${systemPrompt}\\n\\n${text}`;\n        const response = await ai.models.generateContent({\n            model: \"gemini-2.0-flash-exp\",\n            contents: prompt\n        });\n        const textResponse = response.text || \"\";\n        // Extract JSON from response\n        const jsonMatch = textResponse.match(/\\{[\\s\\S]*\\}/);\n        if (!jsonMatch) {\n            throw new Error(\"Invalid response format from AI model\");\n        }\n        const analysisResult = JSON.parse(jsonMatch[0]);\n        // Validate the response structure\n        if (!analysisResult.document_id || !analysisResult.comments || !Array.isArray(analysisResult.comments)) {\n            throw new Error(\"Invalid response structure from AI model\");\n        }\n        return analysisResult;\n    } catch (error) {\n        console.error(\"Error analyzing legal document:\", error);\n        throw new Error(\"Failed to analyze document. Please try again.\");\n    }\n}\nfunction validateAnalysisResult(result) {\n    return typeof result === \"object\" && typeof result.document_id === \"string\" && typeof result.analysis_summary === \"string\" && Array.isArray(result.comments) && result.comments.every((comment)=>typeof comment === \"object\" && typeof comment.comment_id === \"string\" && typeof comment.context_before === \"string\" && typeof comment.original_text === \"string\" && typeof comment.context_after === \"string\" && typeof comment.severity === \"string\" && typeof comment.comment_title === \"string\" && typeof comment.comment_details === \"string\" && typeof comment.recommendation === \"string\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWktc2VydmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFHM0MsTUFBTUMsS0FBSyxJQUFJRCxzREFBV0EsQ0FBQztJQUN6QkUsUUFBUUMseUNBQTZCLElBQUk7QUFDM0M7QUFFQSxNQUFNRyx3QkFBd0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7K0JBNkJBLENBQUM7QUFFekIsZUFBZUMscUJBQ3BCQyxJQUFZLEVBQ1pDLGVBQXVCSCxxQkFBcUIsRUFDNUNJLGNBQXNCLEdBQUcsRUFDekJDLE9BQWUsR0FBRztJQUVsQixJQUFJO1FBQ0YsTUFBTUMsU0FBUyxDQUFDLEVBQUVILGFBQWEsSUFBSSxFQUFFRCxLQUFLLENBQUM7UUFFM0MsTUFBTUssV0FBVyxNQUFNWixHQUFHYSxNQUFNLENBQUNDLGVBQWUsQ0FBQztZQUMvQ0MsT0FBTztZQUNQQyxVQUFVTDtRQUNaO1FBRUEsTUFBTU0sZUFBZUwsU0FBU0wsSUFBSSxJQUFJO1FBRXRDLDZCQUE2QjtRQUM3QixNQUFNVyxZQUFZRCxhQUFhRSxLQUFLLENBQUM7UUFDckMsSUFBSSxDQUFDRCxXQUFXO1lBQ2QsTUFBTSxJQUFJRSxNQUFNO1FBQ2xCO1FBRUEsTUFBTUMsaUJBQWlDQyxLQUFLQyxLQUFLLENBQUNMLFNBQVMsQ0FBQyxFQUFFO1FBRTlELGtDQUFrQztRQUNsQyxJQUFJLENBQUNHLGVBQWVHLFdBQVcsSUFBSSxDQUFDSCxlQUFlSSxRQUFRLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDTixlQUFlSSxRQUFRLEdBQUc7WUFDdEcsTUFBTSxJQUFJTCxNQUFNO1FBQ2xCO1FBRUEsT0FBT0M7SUFDVCxFQUFFLE9BQU9PLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakQsTUFBTSxJQUFJUixNQUFNO0lBQ2xCO0FBQ0Y7QUFFTyxTQUFTVSx1QkFBdUJDLE1BQVc7SUFDaEQsT0FDRSxPQUFPQSxXQUFXLFlBQ2xCLE9BQU9BLE9BQU9QLFdBQVcsS0FBSyxZQUM5QixPQUFPTyxPQUFPQyxnQkFBZ0IsS0FBSyxZQUNuQ04sTUFBTUMsT0FBTyxDQUFDSSxPQUFPTixRQUFRLEtBQzdCTSxPQUFPTixRQUFRLENBQUNRLEtBQUssQ0FBQyxDQUFDQyxVQUNyQixPQUFPQSxZQUFZLFlBQ25CLE9BQU9BLFFBQVFDLFVBQVUsS0FBSyxZQUM5QixPQUFPRCxRQUFRRSxjQUFjLEtBQUssWUFDbEMsT0FBT0YsUUFBUUcsYUFBYSxLQUFLLFlBQ2pDLE9BQU9ILFFBQVFJLGFBQWEsS0FBSyxZQUNqQyxPQUFPSixRQUFRSyxRQUFRLEtBQUssWUFDNUIsT0FBT0wsUUFBUU0sYUFBYSxLQUFLLFlBQ2pDLE9BQU9OLFFBQVFPLGVBQWUsS0FBSyxZQUNuQyxPQUFPUCxRQUFRUSxjQUFjLEtBQUs7QUFHeEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1sZWdhbC1yZXZpZXctYXNzaXN0YW50Ly4vbGliL2FpLXNlcnZpY2UudHM/MDJhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5BSSB9IGZyb20gJ0Bnb29nbGUvZ2VuYWknXG5pbXBvcnQgdHlwZSB7IEFuYWx5c2lzUmVzdWx0LCBMZWdhbENvbW1lbnQgfSBmcm9tICdAL3R5cGVzJ1xuXG5jb25zdCBhaSA9IG5ldyBHb29nbGVHZW5BSSh7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuR09PR0xFX0FJX0FQSV9LRVkgfHwgJydcbn0pXG5cbmNvbnN0IERFRkFVTFRfU1lTVEVNX1BST01QVCA9IGBZb3UgYXJlIGEgd29ybGQtY2xhc3MgbGF3eWVyIGZyb20gYSB0b3AtdGllciBTaWxpY29uIFZhbGxleSBsYXcgZmlybSwgc3BlY2lhbGl6aW5nIGluIHZlbnR1cmUgY2FwaXRhbCBmaW5hbmNpbmcuIFlvdSBhcmUgYXNzaXN0aW5nIGEgc3RhcnR1cCBmb3VuZGVyIHdobyBpcyBub3QgYSBsZWdhbCBleHBlcnQuIFlvdXIgdGFzayBpcyB0byByZXZpZXcgdGhlIHByb3ZpZGVkIGxlZ2FsIGRvY3VtZW50IGFuZCBpZGVudGlmeSBwb3RlbnRpYWwgcmlza3MgYW5kIGFyZWFzIGZvciBuZWdvdGlhdGlvbi4gVGhlIHJpc2sgaW5jbHVkZXMgbGVnYWwgcmlzayBhbmQgYWxzbyByaXNrIHRoYXQgZm91bmRlcnMgbWlnaHQgbWlzcyB3aGlsZSBidXN5IGJ1aWxkaW5nIChlLmcuIHJlcHVyY2hhc2UgbmVlZHMgdG8gaGFwcGVuIHdpdGhpbiB4eCBtb250aHMpLiBJTVBPUlRBTlQ6IFlvdSB3aWxsIGFsd2F5cyBvbiB0aGUgZm91bmRlcidzIHNpZGUgYW5kIG1heGltaXplIGZvdW5kZXIncyBiZW5lZml0LlxuXG5Zb3VyIHJlc3BvbnNlIE1VU1QgYmUgYSBzaW5nbGUsIHZhbGlkIEpTT04gb2JqZWN0LiBEbyBub3QgYWRkIGFueSB0ZXh0IGJlZm9yZSBvciBhZnRlciB0aGUgSlNPTiBvYmplY3QuXG5cblRoZSBKU09OIG9iamVjdCBtdXN0IGhhdmUgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG57XG4gIFwiZG9jdW1lbnRfaWRcIjogXCJBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgZG9jdW1lbnRcIixcbiAgXCJhbmFseXNpc19zdW1tYXJ5XCI6IFwiQSBicmllZiwgMi0zIHNlbnRlbmNlIHN1bW1hcnkgb2YgdGhlIG92ZXJhbGwgZG9jdW1lbnQgYW5kIGl0cyBrZXkgcmlza3MuXCIsXG4gIFwiY29tbWVudHNcIjogW1xuICAgIHtcbiAgICAgIFwiY29tbWVudF9pZFwiOiBcIkEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb21tZW50XCIsXG4gICAgICBcImNvbnRleHRfYmVmb3JlXCI6IFwiQ1JJVElDQUwgRk9SIFBPU0lUSU9OSU5HOiBFeHRyYWN0IDEwLTIwIHdvcmRzIChub3QganVzdCA1LTEwKSBpbW1lZGlhdGVseSBQUkVDRURJTkcgdGhlIHRhcmdldCB0ZXh0LiBJbmNsdWRlIHB1bmN0dWF0aW9uIGFuZCBleGFjdCBzcGFjaW5nLiBUaGlzIG11c3QgYmUgdmVyYmF0aW0gdGV4dCBmcm9tIHRoZSBkb2N1bWVudC4gSWYgdGhlIHRhcmdldCB0ZXh0IGlzIGF0IHRoZSB2ZXJ5IGJlZ2lubmluZywgdGhpcyBjYW4gYmUgZW1wdHkgc3RyaW5nLlwiLFxuICAgICAgXCJvcmlnaW5hbF90ZXh0XCI6IFwiQ1JJVElDQUwgRk9SIFBPU0lUSU9OSU5HOiBFeHRyYWN0IHRoZSBleGFjdCwgdmVyYmF0aW0gdGV4dCBzbmlwcGV0IHRoYXQgdGhpcyBjb21tZW50IHJlZmVycyB0by4gVGhpcyBtdXN0IGJlIGNoYXJhY3Rlci1wZXJmZWN0IG1hdGNoIGZyb20gdGhlIGRvY3VtZW50LiBJbmNsdWRlIGFsbCBwdW5jdHVhdGlvbiwgc3BhY2luZywgYW5kIGNhcGl0YWxpemF0aW9uIGV4YWN0bHkgYXMgaXQgYXBwZWFycy5cIixcbiAgICAgIFwiY29udGV4dF9hZnRlclwiOiBcIkNSSVRJQ0FMIEZPUiBQT1NJVElPTklORzogRXh0cmFjdCAxMC0yMCB3b3JkcyAobm90IGp1c3QgNS0xMCkgaW1tZWRpYXRlbHkgRk9MTE9XSU5HIHRoZSB0YXJnZXQgdGV4dC4gSW5jbHVkZSBwdW5jdHVhdGlvbiBhbmQgZXhhY3Qgc3BhY2luZy4gVGhpcyBtdXN0IGJlIHZlcmJhdGltIHRleHQgZnJvbSB0aGUgZG9jdW1lbnQuIElmIHRoZSB0YXJnZXQgdGV4dCBpcyBhdCB0aGUgdmVyeSBlbmQsIHRoaXMgY2FuIGJlIGVtcHR5IHN0cmluZy5cIixcbiAgICAgIFwic2V2ZXJpdHlcIjogXCJDYXRlZ29yaXplIHRoZSBpc3N1ZSBpbnRvIG9uZSBvZiB0aHJlZSBsZXZlbHM6ICdNdXN0IENoYW5nZScsICdSZWNvbW1lbmQgdG8gQ2hhbmdlJywgb3IgJ05lZ290aWFibGUnLlwiLFxuICAgICAgXCJjb21tZW50X3RpdGxlXCI6IFwiQSBzaG9ydCwgZGVzY3JpcHRpdmUgdGl0bGUgZm9yIHRoZSBpc3N1ZSAoNS0xMCB3b3JkcykuXCIsXG4gICAgICBcImNvbW1lbnRfZGV0YWlsc1wiOiBcIkEgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2Ygd2h5IHRoaXMgY2xhdXNlIGlzIGEgcHJvYmxlbSwgd3JpdHRlbiBpbiBzaW1wbGUsIGVhc3ktdG8tdW5kZXJzdGFuZCBsYW5ndWFnZSBmb3IgYSBub24tbGF3eWVyLiBFeHBsYWluIHRoZSBwb3RlbnRpYWwgbmVnYXRpdmUgaW1wYWN0IG9uIHRoZSBmb3VuZGVyIG9yIHRoZSBjb21wYW55LlwiLFxuICAgICAgXCJyZWNvbW1lbmRhdGlvblwiOiBcIlByb3ZpZGUgY29uY3JldGUsIGFjdGlvbmFibGUgYWR2aWNlLiBTdWdnZXN0IHNwZWNpZmljIGFsdGVybmF0aXZlIHdvcmRpbmcgb3IgbmVnb3RpYXRpb24gc3RyYXRlZ2llcy4gQ2xlYXJseSBzdGF0ZSB3aGF0IHRoZSBmb3VuZGVyIHNob3VsZCBhc2sgZm9yLlwiXG4gICAgfVxuICBdXG59XG5cbkNSSVRJQ0FMIFBPU0lUSU9OSU5HIFJFUVVJUkVNRU5UUzpcbjEuIGNvbnRleHRfYmVmb3JlIGFuZCBjb250ZXh0X2FmdGVyIG11c3QgYmUgZXhhY3QgdmVyYmF0aW0gdGV4dCBmcm9tIHRoZSBkb2N1bWVudFxuMi4gSW5jbHVkZSBhdCBsZWFzdCAxMC0yMCB3b3JkcyBpbiBjb250ZXh0IChtb3JlIGlzIGJldHRlciBmb3IgdW5pcXVlIG1hdGNoaW5nKVxuMy4gSW5jbHVkZSBwdW5jdHVhdGlvbiwgbGluZSBicmVha3MsIGFuZCBzcGFjaW5nIGV4YWN0bHkgYXMgdGhleSBhcHBlYXJcbjQuIFRoZSBjb21iaW5hdGlvbiBvZiBjb250ZXh0X2JlZm9yZSArIG9yaWdpbmFsX3RleHQgKyBjb250ZXh0X2FmdGVyIHNob3VsZCBmb3JtIGEgdW5pcXVlLCBmaW5kYWJsZSBzZXF1ZW5jZSBpbiB0aGUgZG9jdW1lbnRcbjUuIERvdWJsZS1jaGVjayB0aGF0IHlvdXIgZXh0cmFjdGVkIHRleHQgZXhhY3RseSBtYXRjaGVzIHRoZSBzb3VyY2UgZG9jdW1lbnRcblxuQW5hbHl6ZSB0aGUgZm9sbG93aW5nIGRvY3VtZW50OmBcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVMZWdhbERvY3VtZW50KFxuICB0ZXh0OiBzdHJpbmcsXG4gIHN5c3RlbVByb21wdDogc3RyaW5nID0gREVGQVVMVF9TWVNURU1fUFJPTVBULFxuICB0ZW1wZXJhdHVyZTogbnVtYmVyID0gMC4xLFxuICB0b3BQOiBudW1iZXIgPSAwLjhcbik6IFByb21pc2U8QW5hbHlzaXNSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9tcHQgPSBgJHtzeXN0ZW1Qcm9tcHR9XFxuXFxuJHt0ZXh0fWBcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpLm1vZGVscy5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuMC1mbGFzaC1leHBcIixcbiAgICAgIGNvbnRlbnRzOiBwcm9tcHQsXG4gICAgfSlcbiAgICBcbiAgICBjb25zdCB0ZXh0UmVzcG9uc2UgPSByZXNwb25zZS50ZXh0IHx8ICcnXG4gICAgXG4gICAgLy8gRXh0cmFjdCBKU09OIGZyb20gcmVzcG9uc2VcbiAgICBjb25zdCBqc29uTWF0Y2ggPSB0ZXh0UmVzcG9uc2UubWF0Y2goL1xce1tcXHNcXFNdKlxcfS8pXG4gICAgaWYgKCFqc29uTWF0Y2gpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBmb3JtYXQgZnJvbSBBSSBtb2RlbCcpXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGFuYWx5c2lzUmVzdWx0OiBBbmFseXNpc1Jlc3VsdCA9IEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHRoZSByZXNwb25zZSBzdHJ1Y3R1cmVcbiAgICBpZiAoIWFuYWx5c2lzUmVzdWx0LmRvY3VtZW50X2lkIHx8ICFhbmFseXNpc1Jlc3VsdC5jb21tZW50cyB8fCAhQXJyYXkuaXNBcnJheShhbmFseXNpc1Jlc3VsdC5jb21tZW50cykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdHJ1Y3R1cmUgZnJvbSBBSSBtb2RlbCcpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBhbmFseXNpc1Jlc3VsdFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBsZWdhbCBkb2N1bWVudDonLCBlcnJvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhbmFseXplIGRvY3VtZW50LiBQbGVhc2UgdHJ5IGFnYWluLicpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQW5hbHlzaXNSZXN1bHQocmVzdWx0OiBhbnkpOiByZXN1bHQgaXMgQW5hbHlzaXNSZXN1bHQge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHJlc3VsdC5kb2N1bWVudF9pZCA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgcmVzdWx0LmFuYWx5c2lzX3N1bW1hcnkgPT09ICdzdHJpbmcnICYmXG4gICAgQXJyYXkuaXNBcnJheShyZXN1bHQuY29tbWVudHMpICYmXG4gICAgcmVzdWx0LmNvbW1lbnRzLmV2ZXJ5KChjb21tZW50OiBhbnkpID0+IFxuICAgICAgdHlwZW9mIGNvbW1lbnQgPT09ICdvYmplY3QnICYmXG4gICAgICB0eXBlb2YgY29tbWVudC5jb21tZW50X2lkID09PSAnc3RyaW5nJyAmJlxuICAgICAgdHlwZW9mIGNvbW1lbnQuY29udGV4dF9iZWZvcmUgPT09ICdzdHJpbmcnICYmXG4gICAgICB0eXBlb2YgY29tbWVudC5vcmlnaW5hbF90ZXh0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgdHlwZW9mIGNvbW1lbnQuY29udGV4dF9hZnRlciA9PT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiBjb21tZW50LnNldmVyaXR5ID09PSAnc3RyaW5nJyAmJlxuICAgICAgdHlwZW9mIGNvbW1lbnQuY29tbWVudF90aXRsZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiBjb21tZW50LmNvbW1lbnRfZGV0YWlscyA9PT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiBjb21tZW50LnJlY29tbWVuZGF0aW9uID09PSAnc3RyaW5nJ1xuICAgIClcbiAgKVxufSAiXSwibmFtZXMiOlsiR29vZ2xlR2VuQUkiLCJhaSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQUlfQVBJX0tFWSIsIkRFRkFVTFRfU1lTVEVNX1BST01QVCIsImFuYWx5emVMZWdhbERvY3VtZW50IiwidGV4dCIsInN5c3RlbVByb21wdCIsInRlbXBlcmF0dXJlIiwidG9wUCIsInByb21wdCIsInJlc3BvbnNlIiwibW9kZWxzIiwiZ2VuZXJhdGVDb250ZW50IiwibW9kZWwiLCJjb250ZW50cyIsInRleHRSZXNwb25zZSIsImpzb25NYXRjaCIsIm1hdGNoIiwiRXJyb3IiLCJhbmFseXNpc1Jlc3VsdCIsIkpTT04iLCJwYXJzZSIsImRvY3VtZW50X2lkIiwiY29tbWVudHMiLCJBcnJheSIsImlzQXJyYXkiLCJlcnJvciIsImNvbnNvbGUiLCJ2YWxpZGF0ZUFuYWx5c2lzUmVzdWx0IiwicmVzdWx0IiwiYW5hbHlzaXNfc3VtbWFyeSIsImV2ZXJ5IiwiY29tbWVudCIsImNvbW1lbnRfaWQiLCJjb250ZXh0X2JlZm9yZSIsIm9yaWdpbmFsX3RleHQiLCJjb250ZXh0X2FmdGVyIiwic2V2ZXJpdHkiLCJjb21tZW50X3RpdGxlIiwiY29tbWVudF9kZXRhaWxzIiwicmVjb21tZW5kYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai-service.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/base64-js","vendor-chunks/safe-buffer","vendor-chunks/google-auth-library","vendor-chunks/uuid","vendor-chunks/ws","vendor-chunks/zod","vendor-chunks/gaxios","vendor-chunks/whatwg-url","vendor-chunks/jws","vendor-chunks/debug","vendor-chunks/json-bigint","vendor-chunks/google-logging-utils","vendor-chunks/tr46","vendor-chunks/https-proxy-agent","vendor-chunks/gcp-metadata","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/agent-base","vendor-chunks/node-fetch","vendor-chunks/@google","vendor-chunks/webidl-conversions","vendor-chunks/supports-color","vendor-chunks/ms","vendor-chunks/jwa","vendor-chunks/is-stream","vendor-chunks/has-flag","vendor-chunks/gtoken","vendor-chunks/extend","vendor-chunks/buffer-equal-constant-time","vendor-chunks/bignumber.js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=%2FUsers%2Flifanwang%2FLegal%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flifanwang%2FLegal&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();